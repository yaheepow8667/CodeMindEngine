2025-12-16 13:16:35.952 |  | INFO     | server:lifespan:34 - â°ï¸ RuoYi-FastAPIå¼€å§‹å¯åŠ¨
2025-12-16 13:16:35.953 |  | INFO     | config.get_db:init_create_table:21 - ğŸ” åˆå§‹åŒ–æ•°æ®åº“è¿æ¥...
2025-12-16 13:16:36.205 |  | INFO     | config.get_db:init_create_table:24 - âœ…ï¸ æ•°æ®åº“è¿æ¥æˆåŠŸ
2025-12-16 13:16:36.205 |  | INFO     | config.get_redis:create_redis_pool:22 - ğŸ” å¼€å§‹è¿æ¥redis...
2025-12-16 13:16:36.222 |  | INFO     | config.get_redis:create_redis_pool:35 - âœ…ï¸ redisè¿æ¥æˆåŠŸ
2025-12-16 13:16:36.363 |  | INFO     | config.get_scheduler:init_system_scheduler:134 - ğŸ” å¼€å§‹å¯åŠ¨å®šæ—¶ä»»åŠ¡...
2025-12-16 13:16:36.422 |  | INFO     | config.get_scheduler:init_system_scheduler:142 - âœ…ï¸ ç³»ç»Ÿåˆå§‹å®šæ—¶ä»»åŠ¡åŠ è½½æˆåŠŸ
2025-12-16 13:16:36.422 |  | INFO     | server:lifespan:41 - ğŸš€ RuoYi-FastAPIå¯åŠ¨æˆåŠŸ
2025-12-16 13:21:07.731 | 172e027d63f7450a9900e6ce71b2c8d9 | ERROR    | exceptions.handle:exception_handler:70 - Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 462, in finish_recv
    return ov.getresult()
           â”‚  â”” <method 'getresult' of '_overlapped.Overlapped' objects>
           â”” <_overlapped.Overlapped object at 0x000001DC45342ED0>

OSError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 535, in send_packed_command
    await self._writer.drain()
          â”‚    â”” <member '_writer' of 'AbstractConnection' objects>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 375, in drain
    raise exc
          â”” ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\proactor_events.py", line 280, in _loop_reading
    data = fut.result()
           â”‚   â”” <method 'result' of '_asyncio.Future' objects>
           â”” <_OverlappedFuture finished exception=ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 817, in _poll
    value = callback(transferred, key, ov)
            â”‚        â”‚            â”‚    â”” <_overlapped.Overlapped object at 0x000001DC45342ED0>
            â”‚        â”‚            â”” 0
            â”‚        â”” 0
            â”” <function IocpProactor.recv.<locals>.finish_recv at 0x000001DC45342E50>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 466, in finish_recv
    raise ConnectionResetError(*exc.args)

ConnectionResetError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC454C1340>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x000001DC454C1340>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x000001DC454C1340>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC454C1340>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC454B38B0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC454B3820>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC454B3820>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454C1040>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC454B3820>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454C1040>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454C1040>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC454C1040>>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC454C1040>>
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC454D70A0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC454B3AF0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC454B3AF0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC454B3AF0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/captchaImage', name='get_captcha_image', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC454B3AF0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F28700>
          â”” APIRoute(path='/captchaImage', name='get_captcha_image', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC454B3AF0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC454D7280>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC454B3B80>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC454B3C10>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454B3940>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC454B3B80>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC454D7280>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F28670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'request': <starlette.requests.Request object at 0x000001DC454D7280>}
                 â”‚         â”” <function get_captcha_image at 0x000001DC42EA5280>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], security_requ...

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\controller\captcha_controller.py", line 18, in get_captcha_image
    if await request.app.state.redis.get(f'{RedisInitKeyConfig.SYS_CONFIG.key}:sys.account.captchaEnabled')
             â”‚       â”” <property object at 0x000001DC30E4F220>
             â”” <starlette.requests.Request object at 0x000001DC454D7280>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 677, in execute_command
    return await conn.retry.call_with_retry(
                 â”‚    â”‚     â”” <function Retry.call_with_retry at 0x000001DC32096550>
                 â”‚    â”” <redis.asyncio.retry.Retry object at 0x000001DC4538B0D0>
                 â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
                 â”” <function Redis.execute_command.<locals>.<lambda> at 0x000001DC454B3D30>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 651, in _send_command_parse_response
    await conn.send_command(*args)
          â”‚    â”‚             â”” ('GET', 'sys_config:sys.account.captchaEnabled')
          â”‚    â”” <function AbstractConnection.send_command at 0x000001DC320DCA60>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 559, in send_command
    await self.send_packed_command(
          â”‚    â”” <function AbstractConnection.send_packed_command at 0x000001DC320DC9D0>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 546, in send_packed_command
    raise ConnectionError(
          â”” <class 'redis.exceptions.ConnectionError'>

redis.exceptions.ConnectionError: Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
2025-12-16 13:21:10.930 | 73505c0781814130a03c9c5263fe42e1 | INFO     | module_admin.controller.captcha_controller:get_captcha_image:34 - ç¼–å·ä¸º39d84a78-68a2-4991-83f1-8f2fbb15c4cbçš„ä¼šè¯è·å–å›¾ç‰‡éªŒè¯ç æˆåŠŸ
2025-12-16 13:21:35.117 | b7aa98a36a754f0c968ffba987e44078 | ERROR    | module_admin.annotation.log_annotation:wrapper:130 - (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark, sys_dept.dept_id AS dept_id_1, sys_dept.parent_id, sys_dept.ancestors, sys_dept.dept_name, sys_dept.order_num, sys_dept.leader, sys_dept.phone, sys_dept.email AS email_1, sys_dept.status AS status_1, sys_dept.del_flag AS del_flag_1, sys_dept.create_by AS create_by_1, sys_dept.create_time AS create_time_1, sys_dept.update_by AS update_by_1, sys_dept.update_time AS update_time_1 
FROM sys_user LEFT OUTER JOIN sys_dept ON sys_user.dept_id = sys_dept.dept_id AND sys_dept.status = %s AND sys_dept.del_flag = %s 
WHERE sys_user.user_name = %s AND sys_user.del_flag = %s]
[parameters: ('0', '0', 'admin', '0')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "asyncmy\\connection.pyx", line 658, in asyncmy.connection.Connection._read_bytes
    data = await self._reader.readexactly(num_bytes)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 721, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
          â”‚          â”‚                   â”‚           â”” 4
          â”‚          â”‚                   â”” b''
          â”‚          â”” <class 'asyncio.exceptions.IncompleteReadError'>
          â”” <module 'asyncio.exceptions' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\asyncio\\exceptions.py'>

asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 'admin', '0')
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 'admin', '0')
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC458DA640>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458B3440 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC458DA640>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 'admin', '0')
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

asyncmy.errors.OperationalError: (2013, 'Lost connection to MySQL server during query')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC457A5C70>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC457A5C70>(<Future finished result=None>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC457A5C70>(<Future finished result=None>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC457A5C70>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC4574BCA0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:9099', 'connection': 'close', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-ag...
          â”‚    â”‚               â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>>
          â”‚    â”‚               â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x000001DC42B28EE0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC454D79D0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/login', name='login', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F15CA0>
          â”” APIRoute(path='/login', name='login', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC4572BF40>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B28B0>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B28B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC4572BF40>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F15C10>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'form_data': <module_admin.service.login_service.CustomOAuth2PasswordRequestForm object at 0x000001DC45768220>, 'query_db': ...
                 â”‚         â”” <function login at 0x000001DC445C91F0>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...

> File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\annotation\log_annotation.py", line 122, in wrapper
    result = await func(*args, **kwargs)
                   â”‚     â”‚       â”” {'form_data': <module_admin.service.login_service.CustomOAuth2PasswordRequestForm object at 0x000001DC45768220>, 'query_db': ...
                   â”‚     â”” ()
                   â”” <function login at 0x000001DC445C9160>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\controller\login_controller.py", line 42, in login
    result = await LoginService.authenticate_user(request, query_db, user)
                   â”‚            â”‚                 â”‚        â”‚         â”” UserLogin(user_name='admin', password='admin123', code='5', uuid='39d84a78-68a2-4991-83f1-8f2fbb15c4cb', login_info={'ipaddr'...
                   â”‚            â”‚                 â”‚        â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>
                   â”‚            â”‚                 â”” <starlette.requests.Request object at 0x000001DC4572BF40>
                   â”‚            â”” <classmethod object at 0x000001DC42E8B790>
                   â”” <class 'module_admin.service.login_service.LoginService'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 96, in authenticate_user
    user = await login_by_account(query_db, login_user.user_name)
                 â”‚                â”‚         â”‚          â”” 'admin'
                 â”‚                â”‚         â”” UserLogin(user_name='admin', password='admin123', code='5', uuid='39d84a78-68a2-4991-83f1-8f2fbb15c4cb', login_info={'ipaddr'...
                 â”‚                â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>
                 â”” <function login_by_account at 0x000001DC42CFF0D0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\dao\login_dao.py", line 16, in login_by_account
    await db.execute(
          â”‚  â”” <function AsyncSession.execute at 0x000001DC31CD3040>
          â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
                   â”” <function greenlet_spawn at 0x000001DC311BFF70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             â”‚       â”‚      â”‚   â”” <built-in function exc_info>
             â”‚       â”‚      â”” <module 'sys' (built-in)>
             â”‚       â”” <method 'throw' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x000001DC458B3440 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           â”‚    â”” <function Session._execute_internal at 0x000001DC31C04160>
           â”” <sqlalchemy.orm.session.Session object at 0x000001DC457AB160>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   â”‚      â”‚                 â”” <classmethod object at 0x000001DC31A84820>
                   â”‚      â”” <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   â”” typing.Any

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             â”‚    â”” <function Connection.execute at 0x000001DC3181BCA0>
             â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DC457A5F70>>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x000001DC3181BF70>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x000001DC3181D160>
          â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           â”‚    â”” <function Connection._exec_single_context at 0x000001DC3181D1F0>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x000001DC3181D430>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          â”‚                    â”‚              â”‚                 â”” OperationalError(2013, 'Lost connection to MySQL server during query')
          â”‚                    â”‚              â”” (<class 'asyncmy.errors.OperationalError'>, OperationalError(2013, 'Lost connection to MySQL server during query'), <tracebac...
          â”‚                    â”” <method 'with_traceback' of 'BaseException' objects>
          â”” OperationalError("(asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')")

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 'admin', '0')
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 'admin', '0')
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC458DA640>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458B3440 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC458DA640>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 'admin', '0')
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC458D4130>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark, sys_dept.dept_id AS dept_id_1, sys_dept.parent_id, sys_dept.ancestors, sys_dept.dept_name, sys_dept.order_num, sys_dept.leader, sys_dept.phone, sys_dept.email AS email_1, sys_dept.status AS status_1, sys_dept.del_flag AS del_flag_1, sys_dept.create_by AS create_by_1, sys_dept.create_time AS create_time_1, sys_dept.update_by AS update_by_1, sys_dept.update_time AS update_time_1 
FROM sys_user LEFT OUTER JOIN sys_dept ON sys_user.dept_id = sys_dept.dept_id AND sys_dept.status = %s AND sys_dept.del_flag = %s 
WHERE sys_user.user_name = %s AND sys_user.del_flag = %s]
[parameters: ('0', '0', 'admin', '0')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-16 13:21:35.227 | b7aa98a36a754f0c968ffba987e44078 | ERROR    | exceptions.handle:exception_handler:70 - Can't reconnect until invalid transaction is rolled back.  Please rollback() fully before proceeding (Background on this error at: https://sqlalche.me/e/20/8s2b)
Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC458D9850>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC458D9850>(<Future finished result=None>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC458D9850>(<Future finished result=None>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC458D9850>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC4574BCA0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:9099', 'connection': 'close', 'content-length': '81', 'sec-ch-ua-platform': '"Windows"', 'user-ag...
          â”‚    â”‚               â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC454D7F10>>
          â”‚    â”‚               â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x000001DC42B28EE0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC454D79D0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/login', name='login', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F15CA0>
          â”” APIRoute(path='/login', name='login', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC4572BF40>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B28B0>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B28B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC4572BF40>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F15C10>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'form_data': <module_admin.service.login_service.CustomOAuth2PasswordRequestForm object at 0x000001DC45768220>, 'query_db': ...
                 â”‚         â”” <function login at 0x000001DC445C91F0>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\annotation\log_annotation.py", line 177, in wrapper
    await LoginLogService.add_login_log_services(query_db, LogininforModel(**login_log))
          â”‚               â”‚                      â”‚         â”‚                 â”” {'ipaddr': None, 'loginLocation': 'æœªçŸ¥', 'browser': 'Edge 141', 'os': 'Windows 10', 'loginTime': datetime.datetime(2025, 12, 1...
          â”‚               â”‚                      â”‚         â”” <class 'module_admin.entity.vo.log_vo.LogininforModel'>
          â”‚               â”‚                      â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>
          â”‚               â”” <classmethod object at 0x000001DC4443C460>
          â”” <class 'module_admin.service.log_service.LoginLogService'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\log_service.py", line 181, in add_login_log_services
    raise e

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\log_service.py", line 176, in add_login_log_services
    await LoginLogDao.add_login_log_dao(query_db, page_object)
          â”‚           â”‚                 â”‚         â”” LogininforModel(info_id=None, user_name='admin', ipaddr=None, login_location='æœªçŸ¥', browser='Edge 141', os='Windows 10', statu...
          â”‚           â”‚                 â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>
          â”‚           â”” <classmethod object at 0x000001DC4443C6D0>
          â”” <class 'module_admin.dao.log_dao.LoginLogDao'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\dao\log_dao.py", line 148, in add_login_log_dao
    await db.flush()
          â”‚  â”” <function AsyncSession.flush at 0x000001DC31CD3550>
          â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 801, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
          â”‚              â”‚    â”‚            â”‚              â”” None
          â”‚              â”‚    â”‚            â”” <function Session.flush at 0x000001DC31C07CA0>
          â”‚              â”‚    â”” <sqlalchemy.orm.session.Session object at 0x000001DC457AB160>
          â”‚              â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC45768520>
          â”” <function greenlet_spawn at 0x000001DC311BFF70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             â”‚       â”‚       â”‚       â”” {'objects': None}
             â”‚       â”‚       â”” ()
             â”‚       â”” <method 'switch' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x000001DC456BA2C0 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    â”‚    â”‚      â”” None
    â”‚    â”” <function Session._flush at 0x000001DC31C07E50>
    â”” <sqlalchemy.orm.session.Session object at 0x000001DC457AB160>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 4481, in _flush
    transaction.rollback(_capture_exception=True)
    â”‚           â”” <function SessionTransaction.rollback at 0x000001DC31C013A0>
    â”” <sqlalchemy.orm.session.SessionTransaction object at 0x000001DC456BA500>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          â”‚         â”‚              â”” <traceback object at 0x000001DC45B039C0>
          â”‚         â”” <method 'with_traceback' of 'BaseException' objects>
          â”” PendingRollbackError("Can't reconnect until invalid transaction is rolled back.  Please rollback() fully before proceeding")

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    â”‚             â”” <function UOWTransaction.execute at 0x000001DC31B895E0>
    â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x000001DC458C44C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    â”‚   â”‚       â”” <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x000001DC458C44C0>
    â”‚   â”” <function SaveUpdateAll.execute at 0x000001DC31B89EE0>
    â”” SaveUpdateAll(Mapper[SysLogininfor(sys_logininfor)])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    â”‚    â”‚         â”‚               â”” <function save_obj at 0x000001DC31BD8310>
    â”‚    â”‚         â”” <module 'sqlalchemy.orm.persistence' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\sqlalchemy\\orm...
    â”‚    â”” <module 'sqlalchemy.util.preloaded' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\sqlalchemy\\util...
    â”” <module 'sqlalchemy.util' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\sqlalchemy\\util\\__init__...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    â”” <function _emit_insert_statements at 0x000001DC31BE58B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             â”‚          â”” <function Connection.execute at 0x000001DC3181BCA0>
             â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x000001DC456C35B0>>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x000001DC3181BF70>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x000001DC3181D160>
          â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1813, in _execute_context
    conn = self._revalidate_connection()
           â”‚    â”” <function Connection._revalidate_connection at 0x000001DC318179D0>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 673, in _revalidate_connection
    self._invalid_transaction()
    â”‚    â”” <function Connection._invalid_transaction at 0x000001DC31817940>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC458A90A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 663, in _invalid_transaction
    raise exc.PendingRollbackError(
          â”‚   â”” <class 'sqlalchemy.exc.PendingRollbackError'>
          â”” <module 'sqlalchemy.exc' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\sqlalchemy\\exc.py'>

sqlalchemy.exc.PendingRollbackError: Can't reconnect until invalid transaction is rolled back.  Please rollback() fully before proceeding (Background on this error at: https://sqlalche.me/e/20/8s2b)
2025-12-16 13:21:35.339 | 6d82ed8ef4904d8abe3e704dcf7c753c | INFO     | module_admin.controller.captcha_controller:get_captcha_image:34 - ç¼–å·ä¸º1c30a744-c956-4aea-bf75-be0171b070d9çš„ä¼šè¯è·å–å›¾ç‰‡éªŒè¯ç æˆåŠŸ
2025-12-16 13:21:41.973 | ec87ba8a5bc24c708e3fc2e9b0d1df40 | INFO     | module_admin.controller.login_controller:login:71 - ç™»å½•æˆåŠŸ
2025-12-16 13:21:42.062 | ac44ad7b25eb482682d05aab19a1f0d6 | INFO     | module_admin.controller.login_controller:get_login_user_info:84 - è·å–æˆåŠŸ
2025-12-16 13:21:42.112 | 2c8714ccc525470188ec334d2308dae5 | INFO     | module_admin.controller.login_controller:get_login_user_routers:95 - è·å–æˆåŠŸ
2025-12-16 13:25:45.376 | 6538c4d2595b4576958dff0a759edd67 | ERROR    | exceptions.handle:exception_handler:70 - (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "asyncmy\\connection.pyx", line 658, in asyncmy.connection.Connection._read_bytes
    data = await self._reader.readexactly(num_bytes)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 721, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
          â”‚          â”‚                   â”‚           â”” 4
          â”‚          â”‚                   â”” b''
          â”‚          â”” <class 'asyncio.exceptions.IncompleteReadError'>
          â”” <module 'asyncio.exceptions' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\asyncio\\exceptions.py'>

asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BAF540>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC45502A00 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BAF540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

asyncmy.errors.OperationalError: (2013, 'Lost connection to MySQL server during query')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BEC250>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BEC250>(<Future finished result=None>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BEC250>(<Future finished result=None>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BEC250>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC45342700>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BBE400>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BBE400>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BBE400>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BBE400>>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BBE400>>
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46BBED30>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F15EE0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765A60>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC46BBEA30>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC457659D0>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2940>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC457659D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC46BBEA30>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F15E50>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 292, in app
    solved_result = await solve_dependencies(
                          â”” <function solve_dependencies at 0x000001DC30EE5670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
                   â”‚      â”‚             â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                   â”‚      â”” SolvedDependency(values={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwd...
                   â”” <bound method LoginService.get_current_user of <class 'module_admin.service.login_service.LoginService'>>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 212, in get_current_user
    query_user = await UserDao.get_user_by_id(query_db, user_id=token_data.user_id)
                       â”‚       â”‚              â”‚                 â”‚          â”” 1
                       â”‚       â”‚              â”‚                 â”” TokenData(user_id=1)
                       â”‚       â”‚              â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC46B8B3A0>
                       â”‚       â”” <classmethod object at 0x000001DC42D6CF70>
                       â”” <class 'module_admin.dao.user_dao.UserDao'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\dao\user_dao.py", line 89, in get_user_by_id
    await db.execute(
          â”‚  â”” <function AsyncSession.execute at 0x000001DC31CD3040>
          â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC46B8B3A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
                   â”” <function greenlet_spawn at 0x000001DC311BFF70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             â”‚       â”‚      â”‚   â”” <built-in function exc_info>
             â”‚       â”‚      â”” <module 'sys' (built-in)>
             â”‚       â”” <method 'throw' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x000001DC45502A00 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           â”‚    â”” <function Session._execute_internal at 0x000001DC31C04160>
           â”” <sqlalchemy.orm.session.Session object at 0x000001DC45768580>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   â”‚      â”‚                 â”” <classmethod object at 0x000001DC31A84820>
                   â”‚      â”” <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   â”” typing.Any

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             â”‚    â”” <function Connection.execute at 0x000001DC3181BCA0>
             â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DC457688B0>>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x000001DC3181BF70>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x000001DC3181D160>
          â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           â”‚    â”” <function Connection._exec_single_context at 0x000001DC3181D1F0>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x000001DC3181D430>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          â”‚                    â”‚              â”‚                 â”” OperationalError(2013, 'Lost connection to MySQL server during query')
          â”‚                    â”‚              â”” (<class 'asyncmy.errors.OperationalError'>, OperationalError(2013, 'Lost connection to MySQL server during query'), <tracebac...
          â”‚                    â”” <method 'with_traceback' of 'BaseException' objects>
          â”” OperationalError("(asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')")

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BEC1F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BAF540>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC45502A00 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BAF540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD77C0>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-16 13:25:45.712 | 2ade03c8b4434f7da038928fa070db36 | ERROR    | exceptions.handle:exception_handler:70 - Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 462, in finish_recv
    return ov.getresult()
           â”‚  â”” <method 'getresult' of '_overlapped.Overlapped' objects>
           â”” <_overlapped.Overlapped object at 0x000001DC4574BC90>

OSError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 535, in send_packed_command
    await self._writer.drain()
          â”‚    â”” <member '_writer' of 'AbstractConnection' objects>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 375, in drain
    raise exc
          â”” ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\proactor_events.py", line 280, in _loop_reading
    data = fut.result()
           â”‚   â”” <method 'result' of '_asyncio.Future' objects>
           â”” <_OverlappedFuture finished exception=ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 817, in _poll
    value = callback(transferred, key, ov)
            â”‚        â”‚            â”‚    â”” <_overlapped.Overlapped object at 0x000001DC4574BC90>
            â”‚        â”‚            â”” 0
            â”‚        â”” 0
            â”” <function IocpProactor.recv.<locals>.finish_recv at 0x000001DC454EF310>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 466, in finish_recv
    raise ConnectionResetError(*exc.args)

ConnectionResetError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BDCDF0>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BDCDF0>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BDCDF0>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BDCDF0>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC45342790>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BDCEB0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2CA0>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BDCEB0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BDCEB0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:9099', 'connection': 'close', 'content-length': '0', 'sec-ch-ua-platform': '"Windows"', 'authoriz...
          â”‚    â”‚               â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BDCEB0>>
          â”‚    â”‚               â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x000001DC42B28EE0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46BDC670>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE15E0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE15E0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE15E0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE15E0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F284C0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE15E0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC46BDC070>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC46BE1280>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE14C0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC456B2700>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC46BE1280>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC46BDC070>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F28430>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                 â”‚         â”” <function logout at 0x000001DC445D39D0>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\controller\login_controller.py", line 148, in logout
    await LoginService.logout_services(request, token_id)
          â”‚            â”‚               â”‚        â”” '55315e2c-1c5c-41db-9b02-98cadc67d5f4'
          â”‚            â”‚               â”” <starlette.requests.Request object at 0x000001DC46BDC070>
          â”‚            â”” <classmethod object at 0x000001DC42E8B670>
          â”” <class 'module_admin.service.login_service.LoginService'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 520, in logout_services
    await request.app.state.redis.delete(f'{RedisInitKeyConfig.ACCESS_TOKEN.key}:{token_id}')
          â”‚       â”” <property object at 0x000001DC30E4F220>
          â”” <starlette.requests.Request object at 0x000001DC46BDC070>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 677, in execute_command
    return await conn.retry.call_with_retry(
                 â”‚    â”‚     â”” <function Retry.call_with_retry at 0x000001DC32096550>
                 â”‚    â”” <redis.asyncio.retry.Retry object at 0x000001DC4538B0D0>
                 â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
                 â”” <function Redis.execute_command.<locals>.<lambda> at 0x000001DC46BE11F0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 651, in _send_command_parse_response
    await conn.send_command(*args)
          â”‚    â”‚             â”” ('DEL', 'access_token:55315e2c-1c5c-41db-9b02-98cadc67d5f4')
          â”‚    â”” <function AbstractConnection.send_command at 0x000001DC320DCA60>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 559, in send_command
    await self.send_packed_command(
          â”‚    â”” <function AbstractConnection.send_packed_command at 0x000001DC320DC9D0>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 546, in send_packed_command
    raise ConnectionError(
          â”” <class 'redis.exceptions.ConnectionError'>

redis.exceptions.ConnectionError: Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
2025-12-16 13:31:53.235 | 3b2b5ec359fc4b578846c2dcc5c6976e | INFO     | module_admin.controller.login_controller:get_login_user_info:84 - è·å–æˆåŠŸ
2025-12-16 13:31:53.668 | c8f32b96aae2493ea3ff8b8cbf0ef053 | INFO     | module_admin.controller.login_controller:get_login_user_routers:95 - è·å–æˆåŠŸ
2025-12-16 13:31:56.486 | 990042dd591d46059dea6bd6cc0fa405 | INFO     | module_admin.controller.captcha_controller:get_captcha_image:34 - ç¼–å·ä¸º5001716c-9290-46fa-a946-6b6cc2f2839cçš„ä¼šè¯è·å–å›¾ç‰‡éªŒè¯ç æˆåŠŸ
2025-12-16 13:32:06.765 | ca40d29fb0404418a76cbb05fc9ca39f | INFO     | module_admin.controller.login_controller:get_login_user_info:84 - è·å–æˆåŠŸ
2025-12-16 13:32:06.815 | ce32f063b393423b91bb856ba94e4509 | INFO     | module_admin.controller.login_controller:get_login_user_routers:95 - è·å–æˆåŠŸ
2025-12-16 13:35:12.244 | ca4d230ae07d43a6915ba54660f54ffc | ERROR    | exceptions.handle:exception_handler:70 - (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "asyncmy\\connection.pyx", line 658, in asyncmy.connection.Connection._read_bytes
    data = await self._reader.readexactly(num_bytes)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 721, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
          â”‚          â”‚                   â”‚           â”” 4
          â”‚          â”‚                   â”” b''
          â”‚          â”” <class 'asyncio.exceptions.IncompleteReadError'>
          â”” <module 'asyncio.exceptions' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\asyncio\\exceptions.py'>

asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BF37C0>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458DF980 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BF37C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

asyncmy.errors.OperationalError: (2013, 'Lost connection to MySQL server during query')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BF0520>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BF0520>(<Future finished result=None>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BF0520>(<Future finished result=None>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BF0520>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC45765AF0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC454B3040>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC454B3040>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46B8B460>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC454B3040>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46B8B460>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46B8B460>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46B8B460>>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46B8B460>>
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46BBE460>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4577E3A0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4577E3A0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4577E3A0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4577E3A0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F15EE0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4577E3A0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC46BBEA90>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B2700>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC457659D0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B2700>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC46BBEA90>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F15E50>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 292, in app
    solved_result = await solve_dependencies(
                          â”” <function solve_dependencies at 0x000001DC30EE5670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
                   â”‚      â”‚             â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                   â”‚      â”” SolvedDependency(values={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwd...
                   â”” <bound method LoginService.get_current_user of <class 'module_admin.service.login_service.LoginService'>>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 212, in get_current_user
    query_user = await UserDao.get_user_by_id(query_db, user_id=token_data.user_id)
                       â”‚       â”‚              â”‚                 â”‚          â”” 1
                       â”‚       â”‚              â”‚                 â”” TokenData(user_id=1)
                       â”‚       â”‚              â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC457A5580>
                       â”‚       â”” <classmethod object at 0x000001DC42D6CF70>
                       â”” <class 'module_admin.dao.user_dao.UserDao'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\dao\user_dao.py", line 89, in get_user_by_id
    await db.execute(
          â”‚  â”” <function AsyncSession.execute at 0x000001DC31CD3040>
          â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC457A5580>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
                   â”” <function greenlet_spawn at 0x000001DC311BFF70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             â”‚       â”‚      â”‚   â”” <built-in function exc_info>
             â”‚       â”‚      â”” <module 'sys' (built-in)>
             â”‚       â”” <method 'throw' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x000001DC458DF980 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           â”‚    â”” <function Session._execute_internal at 0x000001DC31C04160>
           â”” <sqlalchemy.orm.session.Session object at 0x000001DC457A5790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   â”‚      â”‚                 â”” <classmethod object at 0x000001DC31A84820>
                   â”‚      â”” <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   â”” typing.Any

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             â”‚    â”” <function Connection.execute at 0x000001DC3181BCA0>
             â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DC457A50D0>>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x000001DC3181BF70>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x000001DC3181D160>
          â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           â”‚    â”” <function Connection._exec_single_context at 0x000001DC3181D1F0>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x000001DC3181D430>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          â”‚                    â”‚              â”‚                 â”” OperationalError(2013, 'Lost connection to MySQL server during query')
          â”‚                    â”‚              â”” (<class 'asyncmy.errors.OperationalError'>, OperationalError(2013, 'Lost connection to MySQL server during query'), <tracebac...
          â”‚                    â”” <method 'with_traceback' of 'BaseException' objects>
          â”” OperationalError("(asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')")

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BF0FD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BF37C0>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458DF980 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BF37C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BE2810>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-16 13:35:12.574 | 4e9ecc7fc96042508a3267d3b5a3019e | ERROR    | exceptions.handle:exception_handler:70 - Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 462, in finish_recv
    return ov.getresult()
           â”‚  â”” <method 'getresult' of '_overlapped.Overlapped' objects>
           â”” <_overlapped.Overlapped object at 0x000001DC45882F60>

OSError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 535, in send_packed_command
    await self._writer.drain()
          â”‚    â”” <member '_writer' of 'AbstractConnection' objects>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 375, in drain
    raise exc
          â”” ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\proactor_events.py", line 280, in _loop_reading
    data = fut.result()
           â”‚   â”” <method 'result' of '_asyncio.Future' objects>
           â”” <_OverlappedFuture finished exception=ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 817, in _poll
    value = callback(transferred, key, ov)
            â”‚        â”‚            â”‚    â”” <_overlapped.Overlapped object at 0x000001DC45882F60>
            â”‚        â”‚            â”” 0
            â”‚        â”” 0
            â”” <function IocpProactor.recv.<locals>.finish_recv at 0x000001DC45882940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 466, in finish_recv
    raise ConnectionResetError(*exc.args)

ConnectionResetError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BF0640>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BF0640>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BF0640>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BF0640>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC4589A550>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2790>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2790>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BF0880>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC456B2790>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BF0880>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BF0880>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:9099', 'connection': 'close', 'content-length': '0', 'sec-ch-ua-platform': '"Windows"', 'authoriz...
          â”‚    â”‚               â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BF0880>>
          â”‚    â”‚               â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x000001DC42B28EE0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46BF0DF0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45342EE0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45342EE0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45342EE0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45342EE0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F284C0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45342EE0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC46BF0D90>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC45342700>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45342790>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC45342700>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC46BF0D90>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F28430>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                 â”‚         â”” <function logout at 0x000001DC445D39D0>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\controller\login_controller.py", line 148, in logout
    await LoginService.logout_services(request, token_id)
          â”‚            â”‚               â”‚        â”” '55315e2c-1c5c-41db-9b02-98cadc67d5f4'
          â”‚            â”‚               â”” <starlette.requests.Request object at 0x000001DC46BF0D90>
          â”‚            â”” <classmethod object at 0x000001DC42E8B670>
          â”” <class 'module_admin.service.login_service.LoginService'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 520, in logout_services
    await request.app.state.redis.delete(f'{RedisInitKeyConfig.ACCESS_TOKEN.key}:{token_id}')
          â”‚       â”” <property object at 0x000001DC30E4F220>
          â”” <starlette.requests.Request object at 0x000001DC46BF0D90>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 677, in execute_command
    return await conn.retry.call_with_retry(
                 â”‚    â”‚     â”” <function Retry.call_with_retry at 0x000001DC32096550>
                 â”‚    â”” <redis.asyncio.retry.Retry object at 0x000001DC4538B0D0>
                 â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
                 â”” <function Redis.execute_command.<locals>.<lambda> at 0x000001DC46BE18B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 651, in _send_command_parse_response
    await conn.send_command(*args)
          â”‚    â”‚             â”” ('DEL', 'access_token:55315e2c-1c5c-41db-9b02-98cadc67d5f4')
          â”‚    â”” <function AbstractConnection.send_command at 0x000001DC320DCA60>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 559, in send_command
    await self.send_packed_command(
          â”‚    â”” <function AbstractConnection.send_packed_command at 0x000001DC320DC9D0>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 546, in send_packed_command
    raise ConnectionError(
          â”” <class 'redis.exceptions.ConnectionError'>

redis.exceptions.ConnectionError: Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
2025-12-16 13:35:33.105 | 668cb8d2aa4d46f29f02b313af40ba0b | INFO     | module_admin.controller.login_controller:get_login_user_info:84 - è·å–æˆåŠŸ
2025-12-16 13:35:33.160 | ac9b4344a1ba4a9d846b63876e51b59f | INFO     | module_admin.controller.login_controller:get_login_user_routers:95 - è·å–æˆåŠŸ
2025-12-16 13:40:15.254 | e74ec4d42c85439ebdf7d101a453eb5b | ERROR    | exceptions.handle:exception_handler:70 - (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "asyncmy\\connection.pyx", line 658, in asyncmy.connection.Connection._read_bytes
    data = await self._reader.readexactly(num_bytes)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 721, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
          â”‚          â”‚                   â”‚           â”” 4
          â”‚          â”‚                   â”” b''
          â”‚          â”” <class 'asyncio.exceptions.IncompleteReadError'>
          â”” <module 'asyncio.exceptions' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\asyncio\\exceptions.py'>

asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BE3BC0>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458E29C0 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BE3BC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

asyncmy.errors.OperationalError: (2013, 'Lost connection to MySQL server during query')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BDC5E0>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BDC5E0>(<Future finished result=None>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BDC5E0>(<Future finished result=None>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC46BDC5E0>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC456B2700>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BECC70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BECC70>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BECC70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BECC70>>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BECC70>>
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46BECA90>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765AF0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765AF0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765AF0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765AF0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F15EE0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC45765AF0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC4575DA00>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC457659D0>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE1790>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC4577E3A0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC457659D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC4575DA00>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F15E50>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 292, in app
    solved_result = await solve_dependencies(
                          â”” <function solve_dependencies at 0x000001DC30EE5670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
                   â”‚      â”‚             â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                   â”‚      â”” SolvedDependency(values={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwd...
                   â”” <bound method LoginService.get_current_user of <class 'module_admin.service.login_service.LoginService'>>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 212, in get_current_user
    query_user = await UserDao.get_user_by_id(query_db, user_id=token_data.user_id)
                       â”‚       â”‚              â”‚                 â”‚          â”” 1
                       â”‚       â”‚              â”‚                 â”” TokenData(user_id=1)
                       â”‚       â”‚              â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC4588ACD0>
                       â”‚       â”” <classmethod object at 0x000001DC42D6CF70>
                       â”” <class 'module_admin.dao.user_dao.UserDao'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\dao\user_dao.py", line 89, in get_user_by_id
    await db.execute(
          â”‚  â”” <function AsyncSession.execute at 0x000001DC31CD3040>
          â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC4588ACD0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
                   â”” <function greenlet_spawn at 0x000001DC311BFF70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             â”‚       â”‚      â”‚   â”” <built-in function exc_info>
             â”‚       â”‚      â”” <module 'sys' (built-in)>
             â”‚       â”” <method 'throw' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x000001DC458E29C0 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           â”‚    â”” <function Session._execute_internal at 0x000001DC31C04160>
           â”” <sqlalchemy.orm.session.Session object at 0x000001DC4588A2E0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   â”‚      â”‚                 â”” <classmethod object at 0x000001DC31A84820>
                   â”‚      â”” <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   â”” typing.Any

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             â”‚    â”” <function Connection.execute at 0x000001DC3181BCA0>
             â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DC4588A550>>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x000001DC3181BF70>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x000001DC3181D160>
          â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           â”‚    â”” <function Connection._exec_single_context at 0x000001DC3181D1F0>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x000001DC3181D430>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          â”‚                    â”‚              â”‚                 â”” OperationalError(2013, 'Lost connection to MySQL server during query')
          â”‚                    â”‚              â”” (<class 'asyncmy.errors.OperationalError'>, OperationalError(2013, 'Lost connection to MySQL server during query'), <tracebac...
          â”‚                    â”” <method 'with_traceback' of 'BaseException' objects>
          â”” OperationalError("(asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')")

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC46BDC8B0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BE3BC0>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458E29C0 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC46BE3BC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46C0D540>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-16 13:40:15.487 | a33d7c6daad94d039a29933c82fa2657 | ERROR    | exceptions.handle:exception_handler:70 - Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 462, in finish_recv
    return ov.getresult()
           â”‚  â”” <method 'getresult' of '_overlapped.Overlapped' objects>
           â”” <_overlapped.Overlapped object at 0x000001DC46BE1C90>

OSError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 535, in send_packed_command
    await self._writer.drain()
          â”‚    â”” <member '_writer' of 'AbstractConnection' objects>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 375, in drain
    raise exc
          â”” ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\proactor_events.py", line 280, in _loop_reading
    data = fut.result()
           â”‚   â”” <method 'result' of '_asyncio.Future' objects>
           â”” <_OverlappedFuture finished exception=ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 817, in _poll
    value = callback(transferred, key, ov)
            â”‚        â”‚            â”‚    â”” <_overlapped.Overlapped object at 0x000001DC46BE1C90>
            â”‚        â”‚            â”” 0
            â”‚        â”” 0
            â”” <function IocpProactor.recv.<locals>.finish_recv at 0x000001DC46BE1940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 466, in finish_recv
    raise ConnectionResetError(*exc.args)

ConnectionResetError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC458A9040>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x000001DC458A9040>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x000001DC458A9040>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC458A9040>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC45...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC456B29D0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC46BE1A60>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC46BE1A60>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC458A9550>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC46BE1A60>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC458A9550>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC458A9550>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:9099', 'connection': 'close', 'content-length': '0', 'sec-ch-ua-platform': '"Windows"', 'authoriz...
          â”‚    â”‚               â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC458A9550>>
          â”‚    â”‚               â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x000001DC42B28EE0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC458A9790>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE13A0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE13A0>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE13A0>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE13A0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F284C0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE13A0>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC458A9490>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC46BE1670>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC46BE15E0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC46BE19D0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC46BE1670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC458A9490>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F28430>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                 â”‚         â”” <function logout at 0x000001DC445D39D0>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\controller\login_controller.py", line 148, in logout
    await LoginService.logout_services(request, token_id)
          â”‚            â”‚               â”‚        â”” '55315e2c-1c5c-41db-9b02-98cadc67d5f4'
          â”‚            â”‚               â”” <starlette.requests.Request object at 0x000001DC458A9490>
          â”‚            â”” <classmethod object at 0x000001DC42E8B670>
          â”” <class 'module_admin.service.login_service.LoginService'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 520, in logout_services
    await request.app.state.redis.delete(f'{RedisInitKeyConfig.ACCESS_TOKEN.key}:{token_id}')
          â”‚       â”” <property object at 0x000001DC30E4F220>
          â”” <starlette.requests.Request object at 0x000001DC458A9490>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 677, in execute_command
    return await conn.retry.call_with_retry(
                 â”‚    â”‚     â”” <function Retry.call_with_retry at 0x000001DC32096550>
                 â”‚    â”” <redis.asyncio.retry.Retry object at 0x000001DC4538B0D0>
                 â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
                 â”” <function Redis.execute_command.<locals>.<lambda> at 0x000001DC46BE1D30>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 651, in _send_command_parse_response
    await conn.send_command(*args)
          â”‚    â”‚             â”” ('DEL', 'access_token:55315e2c-1c5c-41db-9b02-98cadc67d5f4')
          â”‚    â”” <function AbstractConnection.send_command at 0x000001DC320DCA60>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 559, in send_command
    await self.send_packed_command(
          â”‚    â”” <function AbstractConnection.send_packed_command at 0x000001DC320DC9D0>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 546, in send_packed_command
    raise ConnectionError(
          â”” <class 'redis.exceptions.ConnectionError'>

redis.exceptions.ConnectionError: Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
2025-12-16 13:43:19.903 | 14ae92196ed24188aa96c0284949f4f4 | INFO     | module_admin.controller.login_controller:get_login_user_info:84 - è·å–æˆåŠŸ
2025-12-16 13:43:20.082 | 188fbe6bf139427ab2e1156fb48e9ca8 | INFO     | module_admin.controller.login_controller:get_login_user_routers:95 - è·å–æˆåŠŸ
2025-12-16 13:55:44.384 | ac0c37ab54924be1a969caf726488afe | ERROR    | exceptions.handle:exception_handler:70 - (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):

  File "asyncmy\\connection.pyx", line 658, in asyncmy.connection.Connection._read_bytes
    data = await self._reader.readexactly(num_bytes)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 721, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
          â”‚          â”‚                   â”‚           â”” 4
          â”‚          â”‚                   â”” b''
          â”‚          â”” <class 'asyncio.exceptions.IncompleteReadError'>
          â”” <module 'asyncio.exceptions' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\asyncio\\exceptions.py'>

asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC4533AEC0>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458DFD40 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC4533AEC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

asyncmy.errors.OperationalError: (2013, 'Lost connection to MySQL server during query')


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC454D7CD0>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC454D7CD0>(<Future finished result=None>)>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC454D7CD0>(<Future finished result=None>)>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskWakeupMethWrapper object at 0x000001DC454D7CD0>(<Future finished result=None>)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC457C11F0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46C27040>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC4577EB80>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46C27040>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46C27040>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46C27040>>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46C27040>>
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46C27D00>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4589A550>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4589A550>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4589A550>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4589A550>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F15EE0>
          â”” APIRoute(path='/getInfo', name='get_login_user_info', methods=['GET'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC4589A550>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC46C27EB0>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC4589A430>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B29D0>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC455238B0>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC4589A430>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC46C27EB0>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F15E50>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 292, in app
    solved_result = await solve_dependencies(
                          â”” <function solve_dependencies at 0x000001DC30EE5670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
                   â”‚      â”‚             â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                   â”‚      â”” SolvedDependency(values={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwd...
                   â”” <bound method LoginService.get_current_user of <class 'module_admin.service.login_service.LoginService'>>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 212, in get_current_user
    query_user = await UserDao.get_user_by_id(query_db, user_id=token_data.user_id)
                       â”‚       â”‚              â”‚                 â”‚          â”” 1
                       â”‚       â”‚              â”‚                 â”” TokenData(user_id=1)
                       â”‚       â”‚              â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC46C274C0>
                       â”‚       â”” <classmethod object at 0x000001DC42D6CF70>
                       â”” <class 'module_admin.dao.user_dao.UserDao'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\dao\user_dao.py", line 89, in get_user_by_id
    await db.execute(
          â”‚  â”” <function AsyncSession.execute at 0x000001DC31CD3040>
          â”” <sqlalchemy.ext.asyncio.session.AsyncSession object at 0x000001DC46C274C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
                   â”” <function greenlet_spawn at 0x000001DC311BFF70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             â”‚       â”‚      â”‚   â”” <built-in function exc_info>
             â”‚       â”‚      â”” <module 'sys' (built-in)>
             â”‚       â”” <method 'throw' of 'greenlet.greenlet' objects>
             â”” <_AsyncIoGreenlet object at 0x000001DC458DFD40 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           â”‚    â”” <function Session._execute_internal at 0x000001DC31C04160>
           â”” <sqlalchemy.orm.session.Session object at 0x000001DC454D7DF0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                   â”‚      â”‚                 â”” <classmethod object at 0x000001DC31A84820>
                   â”‚      â”” <class 'sqlalchemy.orm.context.ORMSelectCompileState'>
                   â”” typing.Any

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
             â”‚    â”” <function Connection.execute at 0x000001DC3181BCA0>
             â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           â”” <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001DC46C27580>>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           â”‚          â”” <function Connection._execute_clauseelement at 0x000001DC3181BF70>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          â”‚    â”” <function Connection._execute_context at 0x000001DC3181D160>
          â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           â”‚    â”” <function Connection._exec_single_context at 0x000001DC3181D1F0>
           â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    â”‚    â”” <function Connection._handle_dbapi_exception at 0x000001DC3181D430>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          â”‚                    â”‚              â”‚                 â”” OperationalError(2013, 'Lost connection to MySQL server during query')
          â”‚                    â”‚              â”” (<class 'asyncmy.errors.OperationalError'>, OperationalError(2013, 'Lost connection to MySQL server during query'), <tracebac...
          â”‚                    â”” <method 'with_traceback' of 'BaseException' objects>
          â”” OperationalError("(asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')")

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    â”‚    â”‚       â”” <function DefaultDialect.do_execute at 0x000001DC318DBD30>
    â”‚    â”” <sqlalchemy.dialects.mysql.asyncmy.MySQLDialect_asyncmy object at 0x000001DC318FB910>
    â”” <sqlalchemy.engine.base.Connection object at 0x000001DC454D7AC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    â”‚      â”‚       â”‚          â”” ('0', '0', 1)
    â”‚      â”‚       â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
    â”‚      â”” <function AsyncAdapt_dbapi_cursor.execute at 0x000001DC31D6E5E0>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 192, in execute
    self._adapt_connection._handle_exception(error)
    â”‚    â”” <member '_adapt_connection' of 'AsyncAdapt_dbapi_cursor' objects>
    â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 88, in _handle_exception
    raise error
          â”” OperationalError(2013, 'Lost connection to MySQL server during query')

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 190, in execute
    return self.await_(self._execute_async(operation, parameters))
           â”‚    â”‚      â”‚    â”‚              â”‚          â”” ('0', '0', 1)
           â”‚    â”‚      â”‚    â”‚              â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
           â”‚    â”‚      â”‚    â”” <function AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC31D6E700>
           â”‚    â”‚      â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>
           â”‚    â”” <member 'await_' of 'AsyncAdapt_dbapi_cursor' objects>
           â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           â”‚       â”‚             â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC4533AEC0>
           â”‚       â”” <attribute 'parent' of 'greenlet.greenlet' objects>
           â”” <_AsyncIoGreenlet object at 0x000001DC458DFD40 (otid=0x000001DC311863F0) dead>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  â”” <coroutine object AsyncAdapt_dbapi_cursor._execute_async at 0x000001DC4533AEC0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\sqlalchemy\connectors\asyncio.py", line 213, in _execute_async
    result = await self._cursor.execute(operation, parameters)
                   â”‚    â”‚               â”‚          â”” ('0', '0', 1)
                   â”‚    â”‚               â”” 'SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.ema...
                   â”‚    â”” <member '_cursor' of 'AsyncAdapt_dbapi_cursor' objects>
                   â”” <sqlalchemy.dialects.mysql.asyncmy.AsyncAdapt_asyncmy_cursor object at 0x000001DC46BD7590>

  File "asyncmy\\cursors.pyx", line 179, in execute
    result = await self._query(query)
  File "asyncmy\\cursors.pyx", line 364, in _query
    await conn.query(q)
  File "asyncmy\\connection.pyx", line 496, in query
    await self._read_query_result(unbuffered=unbuffered)
  File "asyncmy\\connection.pyx", line 684, in _read_query_result
    await result.read()
  File "asyncmy\\connection.pyx", line 1071, in read
    first_packet = await self.connection.read_packet()
  File "asyncmy\\connection.pyx", line 619, in read_packet
    packet_header = await self._read_bytes(4)
  File "asyncmy\\connection.pyx", line 666, in _read_bytes
    raise errors.OperationalError(CR_SERVER_LOST, msg) from e
          â”‚      â”‚                â”” 2013
          â”‚      â”” <class 'asyncmy.errors.OperationalError'>
          â”” <module 'asyncmy.errors' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\asyncmy\\errors.cp39-win_am...

sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: SELECT DISTINCT sys_user.user_id, sys_user.dept_id, sys_user.user_name, sys_user.nick_name, sys_user.user_type, sys_user.email, sys_user.phonenumber, sys_user.sex, sys_user.avatar, sys_user.password, sys_user.status, sys_user.del_flag, sys_user.login_ip, sys_user.login_date, sys_user.pwd_update_date, sys_user.create_by, sys_user.create_time, sys_user.update_by, sys_user.update_time, sys_user.remark 
FROM sys_user 
WHERE sys_user.status = %s AND sys_user.del_flag = %s AND sys_user.user_id = %s]
[parameters: ('0', '0', 1)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-12-16 13:55:44.767 | 714c63ada42b4d97993a1aa4411f064b | ERROR    | exceptions.handle:exception_handler:70 - Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 462, in finish_recv
    return ov.getresult()
           â”‚  â”” <method 'getresult' of '_overlapped.Overlapped' objects>
           â”” <_overlapped.Overlapped object at 0x000001DC46BE1A50>

OSError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 535, in send_packed_command
    await self._writer.drain()
          â”‚    â”” <member '_writer' of 'AbstractConnection' objects>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\streams.py", line 375, in drain
    raise exc
          â”” ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\proactor_events.py", line 280, in _loop_reading
    data = fut.result()
           â”‚   â”” <method 'result' of '_asyncio.Future' objects>
           â”” <_OverlappedFuture finished exception=ConnectionResetError(22, 'æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚', None, 64, None)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 817, in _poll
    value = callback(transferred, key, ov)
            â”‚        â”‚            â”‚    â”” <_overlapped.Overlapped object at 0x000001DC46BE1A50>
            â”‚        â”‚            â”” 0
            â”‚        â”” 0
            â”” <function IocpProactor.recv.<locals>.finish_recv at 0x000001DC46BE1670>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 466, in finish_recv
    raise ConnectionResetError(*exc.args)

ConnectionResetError: [WinError 64] æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\app.py", line 6, in <module>
    uvicorn.run(
    â”‚       â”” <function run at 0x000001DC2FF0B280>
    â”” <module 'uvicorn' from 'C:\\Users\\goodx\\.conda\\envs\\memory-palace\\lib\\site-packages\\uvicorn\\__init__.py'>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\main.py", line 593, in run
    server.run()
    â”‚      â”” <function Server.run at 0x000001DC2FEB9DC0>
    â”” <uvicorn.server.Server object at 0x000001DC4523F790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”‚      â”” <function Config.get_loop_factory at 0x000001DC2FE42C10>
           â”‚           â”‚    â”‚             â”‚                      â”‚    â”” <uvicorn.config.Config object at 0x000001DC2D7F3FD0>
           â”‚           â”‚    â”‚             â”‚                      â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”‚           â”‚    â”‚             â”” None
           â”‚           â”‚    â”” <function Server.serve at 0x000001DC2FEB9E50>
           â”‚           â”” <uvicorn.server.Server object at 0x000001DC4523F790>
           â”” <function asyncio_run at 0x000001DC2F8BBEE0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\_compat.py", line 60, in asyncio_run
    return loop.run_until_complete(main)
           â”‚    â”‚                  â”” <coroutine object Server.serve at 0x000001DC451A1640>
           â”‚    â”” <function BaseEventLoop.run_until_complete at 0x000001DC2F6DCCA0>
           â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 634, in run_until_complete
    self.run_forever()
    â”‚    â”” <function ProactorEventLoop.run_forever at 0x000001DC2F78D550>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 601, in run_forever
    self._run_once()
    â”‚    â”” <function BaseEventLoop._run_once at 0x000001DC2F6DF790>
    â”” <ProactorEventLoop running=True closed=False debug=False>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\base_events.py", line 1905, in _run_once
    handle._run()
    â”‚      â”” <function Handle._run at 0x000001DC2F63CC10>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BD2BE0>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    â”‚    â”‚            â”‚    â”‚           â”‚    â”” <member '_args' of 'Handle' objects>
    â”‚    â”‚            â”‚    â”‚           â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BD2BE0>()>
    â”‚    â”‚            â”‚    â”” <member '_callback' of 'Handle' objects>
    â”‚    â”‚            â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BD2BE0>()>
    â”‚    â”” <member '_context' of 'Handle' objects>
    â”” <Handle <TaskStepMethWrapper object at 0x000001DC46BD2BE0>()>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 â”‚    â”‚   â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                 â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                 â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
                 â”‚    â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>
                 â”” <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001DC4524A0A0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
                           â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001DC46...
          â”‚    â”‚                â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>
          â”” <fastapi.applications.FastAPI object at 0x000001DC300680A0>

> File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
          â”‚    â”‚   â”‚      â”‚        â”” <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001DC4574BCA0>
          â”‚    â”‚   â”‚      â”” <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000001D...
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>
          â”” <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001DC4533B2B0>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\middlewares\trace_middleware\middle.py", line 47, in __call__
    await self.app(scope, handle_outgoing_receive, handle_outgoing_request)
          â”‚    â”‚   â”‚      â”‚                        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC45342E50>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.gzip.GZipMiddleware object at 0x000001DC4533B1F0>
          â”” <middlewares.trace_middleware.middle.TraceASGIMiddleware object at 0x000001DC4533B220>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 29, in __call__
    await responder(scope, receive, send)
          â”‚         â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC45342E50>
          â”‚         â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚         â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BD24C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 130, in __call__
    await super().__call__(scope, receive, send)
                           â”‚      â”‚        â”” <function TraceASGIMiddleware.__call__.<locals>.handle_outgoing_request at 0x000001DC45342E50>
                           â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
                           â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\gzip.py", line 46, in __call__
    await self.app(scope, receive, self.send_with_compression)
          â”‚    â”‚   â”‚      â”‚        â”‚    â”” <function IdentityResponder.send_with_compression at 0x000001DC42B35430>
          â”‚    â”‚   â”‚      â”‚        â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BD24C0>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>
          â”” <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BD24C0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          â”‚    â”‚               â”‚      â”‚        â”‚                     â”” Headers({'host': '127.0.0.1:9099', 'connection': 'close', 'content-length': '0', 'sec-ch-ua-platform': '"Windows"', 'authoriz...
          â”‚    â”‚               â”‚      â”‚        â”” <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000001DC46BD24C0>>
          â”‚    â”‚               â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚               â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function CORSMiddleware.simple_response at 0x000001DC42B28EE0>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”‚        â”” functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001DC4533B190...
          â”‚                            â”‚    â”‚    â”‚     â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚                            â”‚    â”‚    â”‚     â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”‚    â”” <starlette.requests.Request object at 0x000001DC46BD2DC0>
          â”‚                            â”‚    â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>
          â”‚                            â”” <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001DC4533B160>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2B80>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
          â”‚    â”‚                â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2B80>
          â”‚    â”‚                â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚                â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <bound method Router.app of <fastapi.routing.APIRouter object at 0x000001DC44EC7940>>
          â”” <fastapi.routing.APIRouter object at 0x000001DC44EC7940>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
          â”‚     â”‚      â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2B80>
          â”‚     â”‚      â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚     â”‚      â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚     â”” <function Route.handle at 0x000001DC30F2A0D0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
          â”‚    â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2B80>
          â”‚    â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚    â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚    â”” <function request_response.<locals>.app at 0x000001DC44F284C0>
          â”” APIRoute(path='/logout', name='logout', methods=['POST'])

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          â”‚                            â”‚    â”‚        â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2B80>
          â”‚                            â”‚    â”‚        â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚                            â”‚    â”‚        â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”‚                            â”‚    â”” <starlette.requests.Request object at 0x000001DC46BD2B50>
          â”‚                            â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B2790>
          â”” <function wrap_app_handling_exceptions at 0x000001DC30F0E9D0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          â”‚   â”‚      â”‚        â”” <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000001DC456B2940>
          â”‚   â”‚      â”” <function RequestResponseCycle.receive at 0x000001DC454EF310>
          â”‚   â”” {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 9099), 'cl...
          â”” <function request_response.<locals>.app.<locals>.app at 0x000001DC456B2790>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
                     â”‚ â”” <starlette.requests.Request object at 0x000001DC46BD2B50>
                     â”” <function get_request_handler.<locals>.app at 0x000001DC44F28430>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                         â”” <function run_endpoint_function at 0x000001DC30F2DCA0>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
                 â”‚         â”‚      â”” {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMSIsInVzZXJfbmFtZSI6ImFkbWluIiwiZGVwdF9uYW1lIjoiXHU3ODE0XHU1M...
                 â”‚         â”” <function logout at 0x000001DC445D39D0>
                 â”” Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[Dependant(path_p...

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\controller\login_controller.py", line 148, in logout
    await LoginService.logout_services(request, token_id)
          â”‚            â”‚               â”‚        â”” '55315e2c-1c5c-41db-9b02-98cadc67d5f4'
          â”‚            â”‚               â”” <starlette.requests.Request object at 0x000001DC46BD2B50>
          â”‚            â”” <classmethod object at 0x000001DC42E8B670>
          â”” <class 'module_admin.service.login_service.LoginService'>

  File "E:\project\AIæ•™è‚²\CodeMindEngine\ruoyi-fastapi-backend\module_admin\service\login_service.py", line 520, in logout_services
    await request.app.state.redis.delete(f'{RedisInitKeyConfig.ACCESS_TOKEN.key}:{token_id}')
          â”‚       â”” <property object at 0x000001DC30E4F220>
          â”” <starlette.requests.Request object at 0x000001DC46BD2B50>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 677, in execute_command
    return await conn.retry.call_with_retry(
                 â”‚    â”‚     â”” <function Retry.call_with_retry at 0x000001DC32096550>
                 â”‚    â”” <redis.asyncio.retry.Retry object at 0x000001DC4538B0D0>
                 â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 55, in call_with_retry
    raise error

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\retry.py", line 50, in call_with_retry
    return await do()
                 â”” <function Redis.execute_command.<locals>.<lambda> at 0x000001DC46BE1F70>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\client.py", line 651, in _send_command_parse_response
    await conn.send_command(*args)
          â”‚    â”‚             â”” ('DEL', 'access_token:55315e2c-1c5c-41db-9b02-98cadc67d5f4')
          â”‚    â”” <function AbstractConnection.send_command at 0x000001DC320DCA60>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 559, in send_command
    await self.send_packed_command(
          â”‚    â”” <function AbstractConnection.send_packed_command at 0x000001DC320DC9D0>
          â”” <redis.asyncio.connection.Connection(host=127.0.0.1,port=6379,db=5)>

  File "C:\Users\goodx\.conda\envs\memory-palace\lib\site-packages\redis\asyncio\connection.py", line 546, in send_packed_command
    raise ConnectionError(
          â”” <class 'redis.exceptions.ConnectionError'>

redis.exceptions.ConnectionError: Error 22 while writing to socket. æŒ‡å®šçš„ç½‘ç»œåä¸å†å¯ç”¨ã€‚.
